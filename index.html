<!DOCTYPE html>
<html lang="en">
<head>
  <title>super-duper-robot</title>
</head>
<body style="user-select: none;-webkit-user-select: none !important;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;" onload="start()">
  <div id="speedometer"></div>
	<script src="script.js"></script>
	<script>
		function damage() {
			health.value /= 2;
			health.width = health.value;
			health.update();
			console.log(`Health: ${health.value} with width of ${health.width}`);
		}
		var button = document.createElement('button');
		var att = document.createAttribute('onclick');
		button.innerHTML = 'Damage [-5]';
		att.value = 'damage()';
		button.setAttributeNode(att);
		document.body.appendChild(button);
	</script>
<!--<script>
	var canvas = document.getElementById("myCanvas");
	var ctx = canvas.getContext("2d");
	ctx.beginPath();
	ctx.arc(250, 250, 50, 0, 2 * Math.PI);
	ctx.fillStyle = "rgba(0, 0, 0, 0.85)";
	ctx.fill();
	function animate(amount) {
try {
	const randRadius = Math.floor(Math.random() * 30) + 40;
		var width = window.innerWidth;
	var height = window.innerHeight;
	/*  var random = Math.floor(Math.random() * 30);
	var random2 = Math.floor(Math.random() * 300);
	var random3 = Math.floor(Math.random() * 200);*/
	var canvas = document.getElementById("myCanvas");
	var ctx = canvas.getContext("2d");
	let coords;
	var randX, randY;
	// let x_y = {"x": "0","y": "0"};
	let out = document.getElementById('speedometer').innerHTML;
	// alt color: rgba(47, 97, 0, 0.8)
	  // var data = JSON.stringify(x_y);
	  var index = -1;
    /* var found = data.find(function(item, i){
	    if(item.x != randX){
		    index = i;
		    return i;
	    }
    });*/
		let xy = [{"x":0,"y":0},{"x":0,"y":0}];
		xy[0].x = 500 - (amount * 50);
		xy[0].y = 67;
	  /* randY = Math.floor(Math.random() * (500 - (randRadius) + 1)) + (randRadius * 2);
	  if (randY <= (randY + randRadius) || randY >= (randY - randRadius)) {
		  randY = Math.floor(Math.random() * (500 - (randRadius) + 1)) + (randRadius * 2);
	  }
	  randX = Math.floor(Math.random() * (500 - (randRadius) + 1)) + (randRadius * 2);
	  if (randX <= (randX + randRadius) || randX>= (randX - randRadius)) {
		  randX = Math.floor(Math.random() * (500 - (randRadius) + 1)) + (randRadius * 2);
	  }*/
	ctx.clearRect(0,0,500,500);
	var l = xy.length;
		for (let i = 0; i < l; i++) {
			ctx.beginPath();
			ctx.arc(xy[i].x, xy[i].y, randRadius, 0, 2 * Math.PI);
			ctx.fillStyle = "rgba(62, 128, 0, 0.5)";
			ctx.fill();
    //x_yNew = {"x": randX,"y": randY};
	  //x_y = x_y + x_yNew;
    coords = 'X = ' + randX + '<br>' + 'Y = ' + randY + '<br>' + 'r = ' + randRadius;
    out = out + '<br>' + xy[i].x;
  }
	acc(amount);
	    } catch(err) {
console.log(err);
		    document.getElementById('speedometer').innerHTML = err.message;
	    }
	}
	</script>
<script>
document.getElementById('mySVG').addEventListener('ontouchstart', function () {
	acc(1.8);
});
document.getElementById('mySVG').addEventListener('ontouchend', function () {
	var decc = setTimeout(function() {
		var amount /= 1.4;
		animate(amount);
		speedometer.innerHTML = amount;
	}, 100);
});
	
function throttle(press) {
    var acceleration;
	  if (acceleration === 0) {
		  var speedometer = document.getElementById("speedometer");
		  let amount, time;
		  if (press === true) {
			  amount = 0.1;
			  time = 0;
			  acceleration = window.setInterval(acc(amount), 1000);
		  } else {
			  window.clearInterval(acceleration);
			  while (amount != "0") {
			  }
		  }
	  }
  }
	function acc(amount) {
		if (amount < 500) {
			var loop = setTimeout(function() {
				amount *= 1.1;
				animate(amount);
				speedometer.innerHTML = amount;
			}, 100);
			if (amount >= 500) {
				deccl(amount);
			}
		}
	}
	function deccl(amount) {
		clearTimeout(loop);
		var decc = setTimeout(function() {
			amount /= 1.4;
			animate(amount);
			speedometer.innerHTML = amount;
		}, 100);
	}
	function showCoords(event) {
		var x = event.clientX;
		var y = event.clientY;
		var coor = "X coords: " + x + ", Y coords: " + y;
		document.getElementById("myCanvas").setAttribute("title",coor);
	}
	function clearCoor() {
		document.getElementById("myCanvas").setAttribute("title","");
	}
</script>-->
</body>
</html>
