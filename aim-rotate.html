<html>
  <head>
    <title>V2 Rotate to face object</title>
  </head>
  <body>
    <canvas id="myCanvas" width="600" height="600" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>

<script>
var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
var player = new circ(300,200,20);
function circ(x,y,r) {
  this.x = x;
  this.y = y;
  this.r = r;
  ctx.beginPath();
  ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);
  ctx.stroke();
}
function rect(x,y,width,height) {
  this.x = x;
  this.y = y;
  this.width = width;
  this.height = height;
  ctx.fillRect(this.x, this.y, this.width, this.height);
}
ctx.rotate(Math.atan(player.y/player.x));
ctx.fillRect(150,150,100,50);
</script>
  </body>
</html>
